<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Conditional plots — gg_coplot • ggcleveland</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Conditional plots — gg_coplot" />
<meta property="og:description" content="Implements conditional plots or coplots." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggcleveland</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ggplot-cleveland.html">Artículos / Articles</a>
</li>
<li>
  <a href="../reference/index.html">Referencias / References</a>
</li>
<li>
  <a href="../news/index.html">Novedades / News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mrqtsp">
    <span class="fas fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/mpru/ggcleveland">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Conditional plots</h1>
    <small class="dont-index">Source: <a href='https://github.com/mpru/ggcleveland/blob/master/R/gg_coplot.R'><code>R/gg_coplot.R</code></a></small>
    <div class="hidden name"><code>gg_coplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Implements conditional plots or coplots.</p>
    </div>

    <pre class="usage"><span class='fu'>gg_coplot</span><span class='op'>(</span>
  <span class='va'>df</span>,
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  <span class='va'>faceting</span>,
  number_bins <span class='op'>=</span> <span class='fl'>6</span>,
  overlap <span class='op'>=</span> <span class='fl'>0.5</span>,
  equal_length <span class='op'>=</span> <span class='cn'>TRUE</span>,
  loess <span class='op'>=</span> <span class='cn'>TRUE</span>,
  loess_span <span class='op'>=</span> <span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span>,
  loess_degree <span class='op'>=</span> <span class='fl'>1</span>,
  loess_family <span class='op'>=</span> <span class='st'>"gaussian"</span>,
  ylabel <span class='op'>=</span> <span class='fu'>quo_text</span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span>,
  xlabel <span class='op'>=</span> <span class='fu'>quo_text</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  facet_label <span class='op'>=</span> <span class='fu'>quo_text</span><span class='op'>(</span><span class='va'>faceting</span><span class='op'>)</span>,
  facet_labeller <span class='op'>=</span> <span class='cn'>NULL</span>,
  show_intervals <span class='op'>=</span> <span class='cn'>TRUE</span>,
  intervals_height <span class='op'>=</span> <span class='fl'>0.25</span>,
  remove_strip <span class='op'>=</span> <span class='cn'>FALSE</span>,
  facets_nrow <span class='op'>=</span> <span class='cn'>NULL</span>,
  hline_at <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>dataframe</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>numeric variable for x-axis</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>numeric variable for y-axis</p></td>
    </tr>
    <tr>
      <th>faceting</th>
      <td><p>faceting numeric variable</p></td>
    </tr>
    <tr>
      <th>number_bins</th>
      <td><p>integer; the number of conditioning intervals</p></td>
    </tr>
    <tr>
      <th>overlap</th>
      <td><p>numeric &lt; 1; the fraction of overlap of the conditioning
variables</p></td>
    </tr>
    <tr>
      <th>equal_length</th>
      <td><p>if `overlap = 0` non overlaping intervals are produced
all with same length if `equal_length` is `TRUE` (default) or with the same
number of values otherwise.</p></td>
    </tr>
    <tr>
      <th>loess</th>
      <td><p>logical; should a loess smoothing curve be added to the coplots?
Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>loess_span</th>
      <td><p>span parameter for loess</p></td>
    </tr>
    <tr>
      <th>loess_degree</th>
      <td><p>degree parameter for loess</p></td>
    </tr>
    <tr>
      <th>loess_family</th>
      <td><p>famiyly argument for the loess() function</p></td>
    </tr>
    <tr>
      <th>ylabel</th>
      <td><p>label for y-axis</p></td>
    </tr>
    <tr>
      <th>xlabel</th>
      <td><p>label for x-axis</p></td>
    </tr>
    <tr>
      <th>facet_label</th>
      <td><p>label for faceting variable</p></td>
    </tr>
    <tr>
      <th>facet_labeller</th>
      <td><p>defaults to NULL so facet labels are automatically
produced, but can take a fuction to be used in `facet_wrap(~faceting,
labeller = labeller(faceting = facet_labeler))`</p></td>
    </tr>
    <tr>
      <th>show_intervals</th>
      <td><p>logical; should the overlapping intervals be shown on
their own panel on the top of the figure? Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>intervals_height</th>
      <td><p>numeric between 0 and 1, relative size of the
intervals pane</p></td>
    </tr>
    <tr>
      <th>remove_strip</th>
      <td><p>logical; should de facets have no strips with labels?
Default to FALSE.</p></td>
    </tr>
    <tr>
      <th>facets_nrow</th>
      <td><p>integer; number of rows for the facets</p></td>
    </tr>
    <tr>
      <th>hline_at</th>
      <td><p>numeric; if provide a horizontal line will be added at that
heigth</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>addtional parameters passed to geom_point()</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a coplot</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If the number of bins is equal to the number of unique values in the
  faceting variable, then no overlaping intervals are produced and each value
  in the faceting variable is used as a slice (`frac` is ingored).</p>
<p>If `overlap = 0` then `ggplot2::cut_interval` is used to generate
  the intervals if `equal_length = TRUE` (default), otherwise
  `ggplot2::cut_number` is used. If `overlap` is not zero,
  `graphics::co.interval` is called.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>ruber</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: data set ‘ruber’ not found</span></div><div class='input'>
<span class='co'># Slicing con intervalos solapados</span>
<span class='fu'>gg_coplot</span><span class='op'>(</span><span class='va'>rubber</span>, x <span class='op'>=</span> <span class='va'>tensile.strength</span>, y <span class='op'>=</span> <span class='va'>abrasion.loss</span>, faceting <span class='op'>=</span> <span class='va'>hardness</span>,
  number_bins <span class='op'>=</span> <span class='fl'>6</span>, overlap <span class='op'>=</span> <span class='fl'>3</span><span class='op'>/</span><span class='fl'>4</span>,
  ylabel <span class='op'>=</span> <span class='st'>"Pérdida de abrasión (g/hp-hour))"</span>,
  xlabel <span class='op'>=</span> <span class='st'>"Resistencia a la tracción (kg/cm2)"</span>,
  facet_label <span class='op'>=</span> <span class='st'>"Dureza (grados Shore)"</span>, loess_family <span class='op'>=</span> <span class='st'>"symmetric"</span>, size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>`geom_smooth()` using formula 'y ~ x'</span></div><div class='img'><img src='gg_coplot-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Slicing con los valores únicos de la variable de faceting</span>
<span class='fu'>gg_coplot</span><span class='op'>(</span><span class='va'>galaxy</span>, x <span class='op'>=</span> <span class='va'>posicion.radial</span>, y <span class='op'>=</span> <span class='va'>velocidad</span>,
  faceting <span class='op'>=</span> <span class='va'>angulo</span>, number_bins <span class='op'>=</span> <span class='fl'>7</span>, loess_span <span class='op'>=</span> <span class='fl'>.5</span>, loess_degree <span class='op'>=</span> <span class='fl'>2</span>,
  facet_labeller <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"Ángulo = "</span>, <span class='va'>x</span>, <span class='st'>"º"</span><span class='op'>)</span>,
  facet_label <span class='op'>=</span> <span class='st'>"Ángulo (grado)"</span>, facets_nrow <span class='op'>=</span> <span class='fl'>2</span>, intervals_height <span class='op'>=</span> <span class='fl'>0.2</span>,
  xlabel <span class='op'>=</span> <span class='st'>"Posición radial (arcsec)"</span>, ylabel <span class='op'>=</span> <span class='st'>"Velocidad (km/s)"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>`geom_smooth()` using formula 'y ~ x'</span></div><div class='img'><img src='gg_coplot-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>galaxy</span><span class='op'>)</span>
<span class='fu'>gg_coplot</span><span class='op'>(</span><span class='va'>galaxy</span>, x <span class='op'>=</span> <span class='va'>este.oeste</span>, y <span class='op'>=</span> <span class='va'>norte.sur</span>, faceting <span class='op'>=</span> <span class='va'>velocidad</span>,
  number_bins <span class='op'>=</span> <span class='fl'>25</span>, overlap <span class='op'>=</span> <span class='fl'>0</span>,  size <span class='op'>=</span> <span class='fl'>0.5</span>,
  ylabel <span class='op'>=</span> <span class='st'>"Coordenada sur-norte jittered (arcsec)"</span>,
  xlabel <span class='op'>=</span> <span class='st'>"Coordenada este-oeste jittered (arcsec)"</span>,
  facet_label <span class='op'>=</span> <span class='st'>"Velocidad (km/s)"</span>, facets_nrow <span class='op'>=</span> <span class='fl'>5</span>,
  remove_strip <span class='op'>=</span> <span class='cn'>TRUE</span>, intervals_height <span class='op'>=</span> <span class='fl'>0.15</span>, loess <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='img'><img src='gg_coplot-3.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcos Prunello, Gonzalo Mari.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


